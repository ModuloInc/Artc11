"use client"
import Link from 'next/link';
import { usePathname } from 'next/navigation';
import { ReactNode } from 'react';

// Type pour les éléments de navigation
interface NavItem {
    path: string;
    icon: ReactNode;
}

// Props du composant principal
interface TabBarProps {
    items?: NavItem[];
}

// Composant par défaut avec emplacements pour vos propres SVG
const TabBar = ({ items }: TabBarProps) => {
    const pathname = usePathname();

    // Navigation par défaut - à remplacer avec vos propres SVG et libellés
    const defaultItems: NavItem[] = [
        {
            path: '/',
            icon: (
                <svg width="32" height="32" viewBox="0 0 32 32" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M7.92265 24.7677H11.8437V18.2326C11.8437 17.8623 11.9692 17.552 12.2202 17.302C12.4711 17.0519 12.7813 16.9264 13.1508 16.9255H18.3789C18.7492 16.9255 19.0598 17.051 19.3108 17.302C19.5617 17.5529 19.6868 17.8631 19.6859 18.2326V24.7677H23.607V13.0045L15.7648 7.12284L7.92265 13.0045V24.7677ZM5.30859 24.7677V13.0045C5.30859 12.5906 5.40139 12.1985 5.58699 11.8281C5.77259 11.4578 6.02833 11.1528 6.35422 10.9132L14.1964 5.0316C14.6538 4.68306 15.1767 4.50879 15.7648 4.50879C16.353 4.50879 16.8758 4.68306 17.3332 5.0316L25.1754 10.9132C25.5022 11.1528 25.7583 11.4578 25.9439 11.8281C26.1295 12.1985 26.2219 12.5906 26.221 13.0045V24.7677C26.221 25.4866 25.9649 26.1022 25.4525 26.6145C24.9401 27.1269 24.325 27.3826 23.607 27.3818H18.3789C18.0085 27.3818 17.6983 27.2563 17.4483 27.0053C17.1982 26.7544 17.0727 26.4442 17.0718 26.0747V19.5396H14.4578V26.0747C14.4578 26.4451 14.3323 26.7557 14.0814 27.0066C13.8304 27.2576 13.5202 27.3826 13.1508 27.3818H7.92265C7.20378 27.3818 6.58861 27.126 6.07713 26.6145C5.56564 26.1031 5.30947 25.4874 5.30859 24.7677Z"
                        fill="#0C0F14"/>
                </svg>
            ),
        },
        {
            path: '/vote',
            icon: (
                <svg width="31" height="24" viewBox="0 0 31 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12.0238 18.8657H9.21255L6.64463 23.7002H30.8259L28.258 18.8657H25.7026L26.2664 20.5473H24.5532L22.0522 7.7252C22.0522 7.7252 21.7525 7.80402 21.3041 7.91691L21.2731 7.76417C21.2179 7.50018 21.116 7.26044 20.9947 7.0322C20.8727 6.80432 20.7306 6.58923 20.5835 6.38887L20.5409 6.33096L20.4874 6.28538C20.1497 5.99223 19.5386 5.51192 18.5004 4.84808L18.5029 4.84972C17.4158 4.15175 16.1866 3.77779 15.1154 3.75272C12.8057 3.70592 10.2537 3.65455 9.5712 3.64106L8.92541 3.23297L9.30702 2.67991L5.36358 0L0.368652 7.30274L4.26652 9.98195L4.78977 9.22403L6.12311 10.1087L8.04441 12.914C8.32822 13.3278 8.71483 13.6661 9.16919 13.8931L9.17377 13.8956C9.17377 13.8956 9.51606 14.0631 9.99588 14.3012C10.4749 14.5393 11.0914 14.8481 11.6351 15.1285C12.0732 15.3535 12.5714 15.5493 13.0971 15.7218L13.1038 15.7238L13.4381 15.8256L14.3643 20.5473H12.5934L12.0238 18.8657ZM13.5008 14.5246C13.023 14.3678 12.5842 14.1933 12.231 14.0115C11.1352 13.447 9.77596 12.7815 9.74877 12.7679C9.49381 12.6402 9.27026 12.4453 9.10976 12.2104L7.04926 9.20107L5.51033 8.18003L8.20449 4.27744L9.18251 4.89494L9.36389 4.89821C9.36389 4.89821 10.122 4.91382 11.2163 4.93561C12.3109 4.95776 13.7424 4.98651 15.0891 5.01403C15.8677 5.02595 16.921 5.33342 17.7974 5.90324L17.8242 5.92048L17.7999 5.90488C18.7337 6.50263 19.2812 6.92796 19.5804 7.18249C19.6172 7.23338 19.6523 7.28427 19.6857 7.33523L17.9145 7.48096L15.7369 8.25523L15.6538 8.32091C14.9545 8.87227 14.5425 9.6999 14.5282 10.5785V10.6183C14.5279 11.4858 14.9153 12.3093 15.5886 12.8709L15.7303 12.9887L15.7478 12.9912C15.8005 13.0331 15.8741 13.0922 15.9811 13.1804C16.2206 13.3779 16.6147 13.708 17.2567 14.2556C17.3746 14.3562 17.4414 14.447 17.479 14.5221C17.517 14.5976 17.5287 14.658 17.5292 14.7171C17.5301 14.8403 17.4649 14.993 17.2993 15.1321C17.1363 15.2684 16.8881 15.369 16.6022 15.3686C16.4868 15.3686 16.3656 15.353 16.2385 15.3169L16.2089 15.3087L16.2411 15.3177C15.7446 15.1748 15.2213 15.0373 14.7097 14.892L13.5008 14.5246Z"
                        fill="#0C0F14"/>
                </svg>
            ),
        },
        {
            path: '/',
            icon: (
                <svg width="28" height="24" viewBox="0 0 28 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect width="12.2284" height="10.6651" rx="3" transform="matrix(-1 0 0 1 28 0)" fill="black"/>
                    <rect width="12.2284" height="10.6651" rx="3" transform="matrix(-1 0 0 1 13.0542 0)" fill="black"/>
                    <rect width="12.2284" height="10.6651" rx="3" transform="matrix(-1 0 0 1 13.0542 13.0347)"
                          fill="black"/>
                    <rect width="12.2284" height="10.6651" rx="3" transform="matrix(-1 0 0 1 28 13.0347)" fill="black"/>
                </svg>

            ),
        },
        {
            path: '/profile',
            icon: (
                <svg width="25" height="25" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path
                        d="M12.5 0.850098C14.1576 0.850098 15.7473 1.48224 16.9194 2.60746C18.0915 3.73267 18.75 5.2588 18.75 6.8501C18.75 8.4414 18.0915 9.96752 16.9194 11.0927C15.7473 12.218 14.1576 12.8501 12.5 12.8501C10.8424 12.8501 9.25268 12.218 8.08058 11.0927C6.90848 9.96752 6.25 8.4414 6.25 6.8501C6.25 5.2588 6.90848 3.73267 8.08058 2.60746C9.25268 1.48224 10.8424 0.850098 12.5 0.850098ZM12.5 15.8501C19.4062 15.8501 25 18.5351 25 21.8501V24.8501H0V21.8501C0 18.5351 5.59375 15.8501 12.5 15.8501Z"
                        fill="black"/>
                </svg>
            ),
        },
    ];

    // Utiliser les éléments fournis ou les éléments par défaut
    const navItems = items || defaultItems;

    // Vérifier si un chemin est actif
    const isActive = (path: string) => {
        return pathname === path;
    };

    return (
        <nav
            className="fixed bottom-0 left-0 right-0 h-16 bg-white border-t border-gray-200 flex justify-around items-center px-4 z-10">
            {navItems.map((item, index) => (
                <Link
                    key={index}
                    href={item.path}
                    className={`flex flex-col items-center ${isActive(item.path) ? 'text-blue-600' : 'text-gray-600'}`}
                >
                    {item.icon}
                </Link>
            ))}
        </nav>
    );
};

export default TabBar;